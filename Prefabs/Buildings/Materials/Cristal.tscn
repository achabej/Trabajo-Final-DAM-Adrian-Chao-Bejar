[gd_scene load_steps=9 format=4 uid="uid://b5ga5oyphu56e"]

[ext_resource type="Script" path="res://Scripts/Systems/Building/Mat_Type.gd" id="1_oi4bi"]
[ext_resource type="Material" uid="uid://dyc3gpqrdpdci" path="res://Materials/Enviroment/Cristal_Mat.tres" id="2_27a7a"]
[ext_resource type="Script" path="res://Scripts/Systems/Visibility_Controller.gd" id="3_mf2rw"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2iuy7"]

[sub_resource type="ArrayMesh" id="ArrayMesh_43525"]
_surfaces = [{
"aabb": AABB(-0.566381, -1.68046, -0.566381, 1.13276, 3.36091, 1.13276),
"format": 34359742465,
"index_count": 240,
"index_data": PackedByteArray("CQABAAAACQAKAAEACgACAAEACgAMAAIADAADAAIADAAOAAMADgAEAAMADgAQAAQAEAAFAAQAEAASAAUAEgAGAAUAEgAUAAYABwAYAAYAFAAHAAYAFAAWAAcAFgAAAAcAFgAJAAAAFwAJABYAFwAIAAkAFQAWABQAFQAXABYAEwAUABIAEwAVABQAEQASABAAEQATABIADwAQAA4ADwARABAADQAOAAwADQAPAA4ACwAMAAoACwANAAwACAAKAAkACAALAAoAAgAYAAEABQAYAAQAAAAYAAcAAQAYAAAAAwAYAAIABgAYAAUABAAYAAMAIQAaACIAIQAZABoAIgAbACMAIgAaABsAIwAcACQAIwAbABwAJAAdACUAJAAcAB0AJQAeACYAJQAdAB4AJgAfACcAJgAeAB8AIAAfACkAJwAgACgAJwAfACAAKAAZACEAKAAgABkAFwAhAAgAFwAoACEAFQAoABcAFQAnACgAEwAnABUAEwAmACcAEQAmABMAEQAlACYADwAlABEADwAkACUADQAkAA8ADQAjACQACwAjAA0ACwAiACMACAAiAAsACAAhACIAGwAaACkAHgAdACkAGQAgACkAGgAZACkAHAAbACkAHwAeACkAHQAcACkA"),
"lods": [0.217328, PackedByteArray("BwAYAAYABgAgAAcABwAgAAkACQAYAAcAIAAZAAkABgAfACAABQAfAAYAHwAeACkAHQAfAAUAHgAdACkAHQAFAAQAAwAdAAQAAwAcAB0AHQAcACkAAgAcAAMAAgAbABwAHAAbACkAAQAbAAIAAgAYAAEAAQAaABsACQAaAAEACQAZABoAAQAYAAkABQAYAAQABgAYAAUABAAYAAMAAwAYAAIAHQAeAB8AIAAfACkAGQAgACkAGwAaACkAGgAZACkA")],
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 42,
"vertex_data": PackedByteArray("QeZUsYdVWj9Q/hC/OQ3NPodVWj85Dc2+UP4QP4dVWj+IFB+wOQ3NPodVWj85Dc0+QeZUsYdVWj9Q/hA/OQ3NvodVWj85Dc0+UP4Qv4dVWj+IFB+wOQ3NvodVWj85Dc2+QeZUsQAAAABQ/hC/QeZUsb9l4T5Q/hC/OQ3NPr9l4T45Dc2+OQ3NPgAAAAA5Dc2+UP4QP79l4T6IFB+wUP4QPwAAAACIFB+wOQ3NPr9l4T45Dc0+OQ3NPgAAAAA5Dc0+QeZUsb9l4T5Q/hA/QeZUsQAAAABQ/hA/OQ3Nvr9l4T45Dc0+OQ3NvgAAAAA5Dc0+UP4Qv79l4T6IFB+wUP4QvwAAAACIFB+wOQ3Nvr9l4T45Dc2+OQ3NvgAAAAA5Dc2+WI6FsTIZ1z9Q4/QxQeZUsYdVWr9Q/hC/OQ3NPodVWr85Dc2+UP4QP4dVWr+IFB+wOQ3NPodVWr85Dc0+QeZUsYdVWr9Q/hA/OQ3NvodVWr85Dc0+UP4Qv4dVWr+IFB+wOQ3NvodVWr85Dc2+QeZUsb9l4b5Q/hC/OQ3NPr9l4b45Dc2+UP4QP79l4b6IFB+wOQ3NPr9l4b45Dc0+QeZUsb9l4b5Q/hA/OQ3Nvr9l4b45Dc0+UP4Qv79l4b6IFB+wOQ3Nvr9l4b45Dc2+WI6FsTIZ179Q4/Qx")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_bowcx"]
resource_name = "Cristal_Cylinder"
_surfaces = [{
"aabb": AABB(-0.566381, -1.68046, -0.566381, 1.13276, 3.36091, 1.13276),
"attribute_data": PackedByteArray("AACAPwAAAAAAAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAGA/AAAAAAAAYD8AAAAAAABgPwAAAAAAAGA/AAAAAAAAQD8AAAAAAABAPwAAAAAAAEA/AAAAAAAAQD8AAAAAAAAgPwAAAAAAACA/AAAAAAAAID8AAAAAAAAgPwAAAAAAAAA/AAAAAAAAAD8AAAAAAAAAPwAAAAAAAAA/AAAAAAAAwD4AAAAAAADAPgAAAAAAAMA+AAAAAAAAwD4AAAAAAACAPgAAAAAAAIA+AAAAAAAAgD4AAAAAAACAPgAAAAAAAAA+AAAAAAAAAD4AAAAAAAAAPgAAAAAAAAA+AAAAAAAAgD8AAIA+AAAAAAAAgD4AAIA/AAAAPgAAAAAAAAA+AABgPwAAAD4AAGA/AAAAPgAAYD8AAIA+AABgPwAAgD4AAEA/AAAAPgAAQD8AAAA+AABAPwAAgD4AAEA/AACAPgAAID8AAAA+AAAgPwAAAD4AACA/AACAPgAAID8AAIA+AAAAPwAAAD4AAAA/AAAAPgAAAD8AAIA+AAAAPwAAgD4AAMA+AAAAPgAAwD4AAAA+AADAPgAAgD4AAMA+AACAPgAAgD4AAAA+AACAPgAAAD4AAIA+AACAPgAAgD4AAIA+AAAAPgAAAD4AAAA+AAAAPgAAAD4AAIA+AAAAPgAAgD4AAAA/AAAAAAAAYD8AAAAAAAAgPwAAAAAAAEA/AAAAAAAAwD4AAAAAAAAAAAAAAAAAAIA+AAAAAAAAAD4AAAAAAACAPwAAAAAAAIA/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAGA/AAAAAAAAYD8AAAAAAABgPwAAAAAAAGA/AAAAAAAAQD8AAAAAAABAPwAAAAAAAEA/AAAAAAAAQD8AAAAAAAAgPwAAAAAAACA/AAAAAAAAID8AAAAAAAAgPwAAAAAAAAA/AAAAAAAAAD8AAAAAAAAAPwAAAAAAAAA/AAAAAAAAwD4AAAAAAADAPgAAAAAAAMA+AAAAAAAAwD4AAAAAAACAPgAAAAAAAIA+AAAAAAAAgD4AAAAAAACAPgAAAAAAAAA+AAAAAAAAAD4AAAAAAAAAPgAAAAAAAAA+AAAAAAAAgD8AAAA+AAAAAAAAAD4AAGA/AAAAPgAAYD8AAAA+AABAPwAAAD4AAEA/AAAAPgAAID8AAAA+AAAgPwAAAD4AAAA/AAAAPgAAAD8AAAA+AADAPgAAAD4AAMA+AAAAPgAAgD4AAAA+AACAPgAAAD4AAAA+AAAAPgAAAD4AAAA+AAAAPwAAAAAAAGA/AAAAAAAAID8AAAAAAABAPwAAAAAAAMA+AAAAAAAAAAAAAAAAAACAPgAAAAAAAAA+AAAAAAAAYD8AAAAAAABAPwAAAAAAACA/AAAAAAAAID8AAAAAAAAAPwAAAAAAAAA/AAAAAAAAwD4AAAAAAADAPgAAAAAAAIA+AAAAAAAAAD4AAAAAAABgPwAAAAAAAGA/AAAAAAAAQD8AAAAAAAAgPwAAAAAAAAA/AAAAAAAAwD4AAAAAAACAPgAAAAAAAAA+AAAAAAAAAD4AAAAA"),
"format": 34359742487,
"index_count": 240,
"index_data": PackedByteArray("IgAFAAEAIgAkAAUAJQALAAcAJQApAAsAKAAPAAoAKAAtAA8ALAARAA0ALAAwABEAMQAVABMAMQA0ABUANQAaABcANQA4ABoAHgBHABkAOQAfABsAOQA9AB8APAADAB0APAAjAAMAPgAjADwAPgAhACMAOwA9ADkAOwA/AD0ANwA4ADUANwA6ADgAMwA0ADEAMwA2ADQALgAwACwALgAyADAAKgAtACgAKgAvAC0AJwApACUAJwArACkAIAAkACIAIAAmACQACQBDAAYAFABEABIAAgBFABwABABBAAAADgBCAAgAGABGABYAEABAAAwAaABNAGoAaABJAE0AawBTAG0AawBPAFMAbABXAG8AbABSAFcAbgBZAHAAbgBVAFkAcQBdAHIAcQBbAF0AcwBiAHQAcwBfAGIAZgBhAH8AdQBnAHcAdQBjAGcAdgBLAGkAdgBlAEsAPgBpACEAPgB2AGkAOwB3AD8AOwB1AHcANwB0ADoANwBzAHQAMwByADYAMwBxAHIALgBwADIALgBuAHAAKgBvAC8AKgBsAG8AJwBtACsAJwBrAG0AIABqACYAIABoAGoAUQBOAHsAXABaAHwASgBkAH0ATABIAHkAVgBQAHoAYABeAH4AWABUAHgA"),
"lods": [0.217328, PackedByteArray("iQBHAIgAiACSAIkAiQCSACMAIwBFAIkAkgBLACMAiACQAJIAhwCQAIgAkACPAH4AjgCQAIcAjwCOAHwAjgCHAIUAgwCOAIUAgwCNAI4AjgCNAHgAgQCNAIMAgQCMAI0AjQCMAHoAgACMAAkACQBDAIAAgACLAIwAIgCLAIAAIgBJAIsAgABBACIAhgBEAIQAGABGAIYAhABAAIIAggBCAAgAWABcAGAAkQBhAH8ASgCRAH0AUQCKAHsAigBIAHkA")],
"material": SubResource("StandardMaterial3D_2iuy7"),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 147,
"vertex_data": PackedByteArray("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////v///gdoAAL7SQdYBw////7///32lAABA7f28vKn///8/QdYBw////7+B2v9///9A7f//faUAAEDtQ5m8qf///z99pf9///++0v28vKn///8/gdr/f///QO1Dmbyp////P32l/3///77Su2a8qf///z+BWv9/gdr/v7tmvKn///8/gVr/f4Ha/78BQ7yp////P30l/399pf+/AUO8qf///z+9KQHD////v30l/399pf+/AAB9pYFa/7+9Kbrm////vwAAgdp9Jf+/vSkBw////78AAH2lgVr/v///gdoAAEAtAACB2n0l/z///4HaAAC+0gAAgdp9Jf+///+B2gAAvtL//32lAABA7f//gdoAAEAt//99pQAAvhKB2v9///9A7f//faUAAEDtgdr/f///vhL//32lAAC+En2l/3///77Sgdr/f///QO19pf9///9ALYHa/3///74SfaX/f///vtKBWv9/gdr/v32l/3///0AtgVr/f4Ha/z+BWv9/gdr/v30l/399pf+/gVr/f4Ha/z99Jf9/faX/P30l/399pf+/AAB9pYFa/799Jf9/faX/PwAAfaWBWv8/AACB2n0l/78AAH2lgVr/vwAAgdp9Jf8/AAB9pYFa/z9Dmbyp////P0HWuub///+//by8qf///z9B1gHD////v7tmvKn///8/vSm65v///78BQ7yp////P70pAcP///+/QdZEGf///7///4HaAABALb0pRBn///+/AACB2n0l/z9B1kQZ////v///gdoAAEAtQdb9PP///7///32lAAC+Ev28Qlb///8/Qdb9PP///7+B2v9///++Ev//faUAAL4SQ5lCVv///z99pf9///9ALf28Qlb///8/gdr/f///vhJDmUJW////P32l/3///0Atu2ZCVv///z+BWv9/gdr/P7tmQlb///8/gVr/f4Ha/z8BQ0JW////P30l/399pf8/AUNCVv///z+9Kf08////v30l/399pf8/AAB9pYFa/z+9KUQZ////vwAAgdp9Jf8/vSn9PP///78AAH2lgVr/P///gdoAAEAtAACB2n0l/z///4HaAABALf//faUAAL4Sgdr/f///vhL//32lAAC+En2l/3///0Atgdr/f///vhJ9pf9///9ALYFa/3+B2v8/gVr/f4Ha/z99Jf9/faX/P30l/399pf8/AAB9pYFa/z8AAIHafSX/PwAAfaWBWv8/Q5lCVv///z9B1kQZ////v/28Qlb///8/Qdb9PP///7+7ZkJW////P70pRBn///+/AUNCVv///z+9Kf08////vxTvxMP///+/gdr/f////78gq7yp////Pym3/3///77S/38AtP///z//f/9///++0t5UvKn///8/d0H/f4Ha/79FDiCh////v7cUk8r///+/QdYhK////7///9XIAABALX/vrG3///8/Trv9bP///z9kfl9q////P95UQlb///8/sSa6cf///z+9KSEr////vwAA/799Jf8/")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_43525")

[sub_resource type="BoxShape3D" id="BoxShape3D_3gfjt"]
size = Vector3(0.913086, 0.878662, 0.827148)

[sub_resource type="BoxShape3D" id="BoxShape3D_wrb7g"]
size = Vector3(0.913086, 0.878662, 0.827148)

[node name="Cristal" type="CharacterBody3D" groups=["Material"]]
collision_layer = 2
collision_mask = 2
script = ExtResource("1_oi4bi")
mat_type = "Cristal"

[node name="Mesh" type="Node3D" parent="."]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 0, 0)

[node name="Cylinder" type="MeshInstance3D" parent="Mesh"]
transform = Transform3D(-2.50706e-08, 0.573549, -2.50706e-08, 0, -2.50706e-08, -0.573549, -0.573549, -2.50706e-08, 1.09587e-15, 0, 0, 0)
material_override = ExtResource("2_27a7a")
mesh = SubResource("ArrayMesh_bowcx")
skeleton = NodePath("")

[node name="Area3D" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000104666, -0.00506246, 0.000466704)
shape = SubResource("BoxShape3D_3gfjt")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("BoxShape3D_wrb7g")

[node name="VisibleOnScreenEnabler3D" type="VisibleOnScreenEnabler3D" parent="."]
aabb = AABB(-0.644784, -0.382711, -0.627707, 1.28958, 0.765422, 1.25541)
script = ExtResource("3_mf2rw")

[connection signal="screen_entered" from="VisibleOnScreenEnabler3D" to="VisibleOnScreenEnabler3D" method="_on_screen_entered"]
[connection signal="screen_exited" from="VisibleOnScreenEnabler3D" to="VisibleOnScreenEnabler3D" method="_on_screen_exited"]
